<section
	class="h-full w-full grid grid-rows-1 grid-cols-none lg:grid-cols-signup lg:grid-rows-none"
>
	<img
		src="./assets/images/signup.svg"
		alt="An illustration for the signup page which represents a rocket launch to the space."
		class="hidden justify-self-end self-center lg:block"
		i18n-alt
	/>
	<div class="relative items-center flex max-w-sm w-full px-5 mx-auto place-content-center">
		<form
			[formGroup]="form"
			(ngSubmit)="submit()"
			class="grid grid-flow-row gap-2 w-full justify-items-center lg:justify-self-end justify-self-center self-center">
			<h1 class="mb-[-.75rem] text-center" i18n>
				Welcome to comets
			</h1>

			<p class="text-center" i18n>
				Join the rocket to launch to the comet.
			</p>

			<app-input
				formControlName="username"
				type="text"
				label="Username"
				placeholder="Username"
				iconLeft="user"
				class="w-full"
				i18n-label
				i18n-placeholder
			></app-input>

			<app-input
				formControlName="email"
				type="email"
				label="Email"
				placeholder="Email"
				iconLeft="email"
				class="w-full"
				i18n-label
				i18n-placeholder
			></app-input>

			<app-input
				formControlName="password"
				type="password"
				[strength]="true"
				label="Password"
				placeholder="Password"
				iconLeft="password"
				class="w-full"
				i18n-label
				i18n-placeholder
			></app-input>

			<p
				class="small mb-2 w-full text-center"
				i18n
			>
				By joigning us, you accept the
				<a
					routerLink="/terms-of-service"
				>Terms of Service</a
				>
			</p>

			<app-button
				label="Sign Up"
				type='primary'
				[loading]="!!(LOADING_KEY | swIsLoading | async)"
				[disabled]="!form.valid"
				i18n-label
			></app-button>

			<div class="h-10 w-full">
				<app-message
					*ngIf="error === 'username'"
					message="Username already taken"
					type='error'
					i18n-message
				></app-message>

				<app-message
					*ngIf="error === 'email'"
					message="Email already taken"
					type='error'
					i18n-message
				></app-message>

				<app-message
					*ngIf="error === 'request'"
					message="Error during request, please retry."
					type='error'
					i18n-message
				></app-message>

				<app-message
					*ngIf="error === 'internal'"
					message="Internal error, please retry later."
					type='error'
					i18n-message
				></app-message>
			</div>
		</form>

		<p class="absolute text-center bottom-5" i18n>
			Already member ?
			<a routerLink="/auth/login"
			>Login</a
			>
		</p>
	</div>
</section>
